- [Service](#service)
- [User](#user)
  - [로그인 [패스워드]](#로그인-패스워드)
  - [로그인 [소셜로그인]](#로그인-소셜로그인)
  - [회원가입](#회원가입)
    - [회원가입에 필요한 정보](#회원가입에-필요한-정보)
- [Contents](#contents)
  - [Host](#host)
    - [Post](#post)
  - [Guest](#guest)

---

# Service

- 서비스 지역: Global
- 서비스 언어: 한국어, English (추후 추가 가능)

# User

## 로그인 [패스워드]

지원 x

## 로그인 [소셜로그인]

아래의 리스트를 지원 하며, 서비스 지역별로 기본으로 보이는 소셜로그인이 다르다.

- Apple [global]
- Google [global]
- Facebook [us]
- kakao [kr]
- naver [kr]

## 회원가입

[로그인 [소셜로그인]](#로그인-소셜로그인)에서 지원하는 소셜로그인을 통해서 회원가입이 가능하다.

### 회원가입에 필요한 정보

- 이메일[required]
- 닉네임[required]: 언어 제한 없음, 10자리 제한, 특수문자 사용 불가
- 생일[required]
- 핸드폰번호[optional]

# 도메인

## Product(= 호스트가 만든 남의집)

> https://naamezip.com/naamezip/10829

```
기본정보
상세정보
스토리
```

- 남의집 등록 시 심사과정을 거쳐야함 (상태: CREATED, FEEDBACK, APPROVAL, DENY)
  - DENY 시 운영팀이 전달한 피드백을 참고하여 보완해야함 -> 보완 후 재요청 상태는 FEEDBACK(CREATED 와 분리하기 위함)
- 호스트는 남의집 생성 시 `승인 방법` 을 설정해야 함
  - 선택(choose, non-fair)
  - 선착순(first-come first served, priority queue)
    - 선착순 설정 시, 주문-결제가 완료된 회원(게스트,호스트)은 즉시 초대 승인(APPROVE_INVITATION) 상태가 된다.
- 상태
  - 모집중
  - 진행확정
    - 특정 인원(?) 같은 조건에 충족되면 해당 상태가 되는 듯함
  - 모집마감
- 모집 마감일은 6일
  - 남의집 오픈 후 6일 이후에는 무조건 마감 된다.
  - 알림 정책(SMS)
    - D-2: 진행일로 부터 2일 전 신청 마감 알림
    - D-1: 진행일로 부터 1일 전 결과 알림 (12:00) 

## Message(=메시지)

- 문자 발송과 같은 알림 메시지 

## Auth(= 인증)

- 토큰 발급, 갱신
- 로그인 API

## Member(= 회원)

- __호스트__
  - 본인인증을 했더라도 호스트 신청을 하지 않으면 호스트는 아님
  - 즉, `본인인증` + `호스트 신청` 2가지가 존재해야 하며, 호스트 신청 시 본인인증 여부를 검증해야 함
  - 호스트 정산
    - 정산 은행
    - 정산 계좌
    - 주민등록번호
- __게스트__
  - 첫 회원 가입시 일반 회원
  - 게스트 중에서는 본인인증을 한 회원도 있고, 하지 않은 회원도 있다. 처음 가입 시에는 무조건 안한 상태
  - __남의집 참여 과정__
    - 남의집 신청 -> 초대 대기 -> 초대 승인 -> 남의집 방문

## Coupon(= 쿠폰)

- 쿠폰은 ID 당 1회 사용 가능
- 쿠폰은 발급 후 발급기한 내 미사용된 쿠폰은 재발급 불가능
- 사용자의 사유로 취소된 상품에 대해 적용된 쿠폰은 재발급 불가능
  - 호스트 취소, 정원 미달로 인한 취소, 코로나로 인한 취소 제외
- 타 쿠폰 및 제휴 행사와 함께 중복할인 불가능 

## Review(= 리뷰)

- 후기

## Order(= 주문, 남의집 참여 신청)

- 남의집 참여 신청(= 주문)
- __주문 상태__
  - ORDER_CREATED: 신청 = 주문 생성
  - PAYMENT_REQUESTED: 결제 요청
  - WAITING_INVITATION: 초대 대기 = 결제 승인(결제 쪽에서는 APPROVAL 상태)
  - APPROVE_INVITATION: 초대 승인
  - VISITED: 남의집 방문

## Payment(= 결제)

- 남의집 참여 시 결제 해야 함
  - 테스트 결제 가능한 모듈로 붙이기
  - 과정: 남의집 신청 -> 초대 대기 -> 초대 승인 -> 남의집 방문
  - 결제 시점: `남의집 신청`
- 결제 수단
  - 카드 결제만 있음 (추가로 토스 페이먼츠 붙이기)
  - https://naamezip.com/mypage/card
- 환불 정책
  - https://naamezip.notion.site/2022-9-847ab1fdc4ce419d996524e5126c258f  
  - 초대 승인 전까지 취소 시 전액 환불 처리 됩니다
  - 초대 승인된 남의집 취소 시, 남의집 방문 6일 전까지 결제액 전액 환불됩니다. (자정 기준)
  - 초대 승인된 남의집 취소 시, 방문 5일~2일 전까지는 결제액의 30%가 환불됩니다. (자정 기준)
  - 남의집 방문 1일 전~방문 당일 및 노쇼인 경우에는 환불이 불가합니다.

## Point (= 포인트, Optional) 

- 리뷰 작성 시, 결제 금액의 1% 를 포인트로 적립
- 포인트와 쿠폰 중복 사용 가능

